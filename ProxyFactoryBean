package com.msxf.factoryBean;

import com.msxf.common.utils.ProxyUtils;
import org.springframework.beans.factory.FactoryBean;

/**
 * Created by liang.pi on 2020/6/29.
 */

public class ProxyFactoryBean<T> implements FactoryBean<T> {
    private Class<T> interfaceType;

    public ProxyFactoryBean(Class<T> interfaceType) {
        this.interfaceType = interfaceType;
    }

    @Override
    public T getObject() throws Exception {
        return (T) ProxyUtils.create(interfaceType);
    }

    @Override
    public Class<T> getObjectType() {
        return interfaceType;
    }

    @Override
    public boolean isSingleton() {
        return true;
    }

}
